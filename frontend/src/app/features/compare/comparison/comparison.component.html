<div class="comparison" *ngIf="!IsLoadingComparison()">
<div class="flex filters"><app-button></app-button> </div>
  <div class="header">
    <span
      class="underline"
      *ngFor="let title of path"
      (click)="decreaseDepth(title)"
      >{{ title }} /</span
    >
  </div>
  <div class="body" *ngIf="getComparison()">
    <!-- All Components -->
    <div *ngIf="path.length === 1">
      <app-accordion
        *ngFor="let component of getComponents()"
        [title]="component"
        [extra]="[compare[component].length + ' Values']"
        (click)="path.push(component)"
      ></app-accordion>
    </div>
    <!-- Component -->
    <div *ngIf="path.length === 2">
      <app-accordion
        *ngFor="let componentVersion of compare[path[1]]"
        [title]="componentVersion.componentVersion || 'N/A'"
        [extra]="[
          componentVersion.appearances.length +
            '/' +
            getComparisonFiles().length +
            ' Match'
        ]"
        [color]="passed(componentVersion.appearances.length)"
        (click)="
          path.push(componentVersion.componentVersion || '');
          version = componentVersion || undefined
        "
      >
      </app-accordion>
    </div>
    <!-- Version Attributes -->
    <div *ngIf="path.length === 3 && version">
      <div *ngFor="let attr of attributes">
        <div *ngIf="getAttributes(attr).length">
          <app-accordion
            [title]="attr"
            [extra]="[getAttributes(attr).length + 'values']"
            ><div body>
              <app-accordion
                *ngFor="let value of getAttributes(attr)"
                [title]="value"
                [extra]="[
                  version[attr][value].appearances?.length +
                    '/' +
                    getComparisonFiles().length +
                    ' Match'
                ]"
              >
                <div body>
                  <div *ngFor="let sbom of version[attr][value].appearances">
                    {{ getAliasFromIndex(sbom) }} {{ sbom }}
                  </div>
                </div>
              </app-accordion>
            </div>
          </app-accordion>
        </div>
      </div>
    </div>
  </div>
</div>
